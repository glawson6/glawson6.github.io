<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Running Mule in Dokku and Heroku</title><meta name=description content=""><meta name=viewport content="width=device-width,initial-scale=1"><!-- Place favicon.ico and apple-touch-icon(s) in the root directory --><!-- Latest compiled and minified CSS --><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css><!-- Optional theme --><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css><link rel=stylesheet href=/css/main.52b0.css><script src=/js/head-scripts.32fa.js></script><script src=https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><div class=blog-masthead><div class=container><nav class=blog-nav><a class=blog-nav-item href="/">Home</a> <a class=blog-nav-item href=/about.html>About</a> <a class=blog-nav-item href=/blogs.html>Blogs</a> <a class=blog-nav-item href=/projects.html>Projects</a> <a class=blog-nav-item href=/resume.html>Resume</a></nav></div></div><div class=container><div class=blog-header><h1 class=blog-title>Gregory Lawson</h1><p class="lead blog-description">Welcome to Gregory Lawson IO!</p></div><div class=row><div class="col-sm-8 blog-main"><article class=post><h2 id=running-mule-in-dokku-and-heroku>Running Mule in Dokku and Heroku</h2><p>September 27, 2015 by <a href=/about.html>Gregory Lawson</a></p><p>In a previous blog, “<a href=https://github.com/glawson6/activemq-mule-embedded>Using Spring Boot with Mule</a>”, I described and implemented embedding Mule into a Spring Boot application. This allows the running Mule from command line without having to install Mule server on the target system. Running Mule in this manner has multiple use cases. One of these use cases is running Mule in a <a href=http://www.interoute.com/what-paas>PaaS</a>. There are many PaaS providers so I will focus on two.</p><p>The first is <a href="https://devcenter.heroku.com/">Heroku</a>. Heroku offers a simple deployment model for developers. There are many options for app developers. These options range from Ruby, Java, Node.js, Python, PHP, Clojure, Scala, Go as the programming languages for developing applications. Heroku allows the deployment of an application to its platform by Git. After creating a Heroku account and creating an application, a local Git repository can push to the remote for a deployment of the application.</p><p>The second is <a href="http://progrium.viewdocs.io/dokku/">Dokku</a>. Dokku is an open source Heroku implementation. You can install it for free with an Ubuntu Linux distribution. If offers the same capabilities as Heroku but is only scaled for one computer system.</p><p>Download the project. The complete source code and Github project can be found <a href=https://github.com/glawson6/spring-boot-mule-pass>here</a>.</p><p>On the command line from the project root execute the command:</p><?prettify lang=sh?><pre class=prettyprint>
mvn clean package &amp;&amp; java -Dhttp.port=8080 -jar target/spring-boot-mule-pass-1.0-SNAPSHOT.jar
</pre><p>This will build, package, and run the Mule Embedded in Spring Boot locally.</p><p>Start another terminal or shell and issue the command:</p><?prettify lang=sh?><pre class=prettyprint>
curl http://localhost:8080/test
</pre><p>If you see “Welcome Paas Mule!”, you have just verified that the Embedded Mule can run locally.</p><p>Now, create an application in Heroku and follow the directions with “Deploy using Heroku Git”.</p><blockquote><p>Install the Heroku Toolbelt</p></blockquote><blockquote><p>Download and install the <a href="https://toolbelt.heroku.com/">Heroku Toolbelt</a> or learn more about the <a href=https://devcenter.heroku.com/categories/command-line>Heroku Command Line Interface</a>.</p></blockquote><blockquote><p>If you haven’t already, log in to your Heroku account and follow the prompts to create a new SSH public key.<?prettify lang=sh?></p></blockquote><pre class=prettyprint>
$ heroku login
</pre><p>After logging in, you can add the local Git repo to Heroku’s remote repo:</p><?prettify lang=sh?><pre class=prettyprint>
heroku git:remote -a YOUR-APPLICATION-NAME
</pre><p>In my case I created an app called test-glawson6. My command becomes:</p><?prettify lang=sh?><pre class=prettyprint>
heroku git:remote -a test-glawson6
</pre><blockquote><p>Deploy your application</p></blockquote><blockquote><p>Commit your code to the repository and deploy it to Heroku using Git.</p></blockquote><?prettify lang=sh?><pre class=prettyprint>
$ git add .
$ git commit -am "make it better"
$ git push heroku master
</pre><p>Start another terminal or shell and issue the command:</p><?prettify lang=sh?><pre class=prettyprint>
 curl https://YOUR-APPLICATION-NAME.herokuapp.com/test
</pre><p>You should see: Welcome Paas Mule!</p><p>Congratulations! You just deployed a Mule App to Heroku!</p><blockquote><p>After installing <a href="http://dokku.viewdocs.io/dokku/installation/">Dokku</a>, you can deploy an app by running in a terminal ‘git remote add dokku dokku@YOUR-DOMAIN-NAME:YOUR-APPLICATION-NAME</p></blockquote><p>You can then run:<?prettify lang=sh?></p><pre class=prettyprint>
 curl https://YOUR-APPLICATION-NAME.YOUR-DOMAIN-NAME/test
</pre><p>You should see: Welcome Paas Mule!</p><p>####Further reading * <a href="http://progrium.viewdocs.io/dokku/">Dokku</a> * <a href="https://devcenter.heroku.com/">Heroku</a> * <a href=http://docs.spring.io/spring-boot/docs/1.2.6.RELEASE/reference/htmlsingle/#cloud-deployment-heroku>Spring Boot in Heroku</a> * <a href=https://devcenter.heroku.com/articles/getting-started-with-java#introduction>Java in Heroku</a> * <a href=https://www.andrewmunsell.com/blog/dokku-tutorial-digital-ocean>Deploying the Right Way: Dokku on Digital Ocean</a> * <a href="http://projects.spring.io/spring-boot/">Spring Boot</a></p></article><div class=blog-post></div></div><!-- /.blog-main --><div class="col-sm-3 col-sm-offset-1 blog-sidebar"><div class="sidebar-about sidebar-module sidebar-module-inset"><img class="side-image img-responsive" src=/img/me_purple_shirt.509a.jpeg alt="Gregory Lawson"><h2>About</h2><p>I am a:</p><p>Software Architect/Engineer</p><p>I work with:</p><p>-Enterprise Integration Tools</p><p>-Front-End Web Technologies</p></div><div class=text-center><ins class=adsbygoogle style=display:inline-block;width:336px;height:280px data-ad-client=ca-pub-8900501214767896 data-ad-slot=5563476365></ins></div><div class=sidebar-module><h4>Posts</h4><a href=/spring/java/config/2016/07/03/spring-java-config.html>Spring Java Configuration</a> <a href=/mule/dokku/heroku/paas/2015/09/27/run-Mule-in-Paas.html>Running Mule in Dokku and Heroku</a> <a href=/activemq/mule/2015/05/17/run-activemq-embedded-in-mule.html>Run ActiveMQ Embedded in Mule</a> <a href=/spring/mule/2015/04/22/using-spring-boot-with-mule.html>Using Spring Boot With Mule</a></div><div class=sidebar-module><h4>My Links</h4><ol class=list-unstyled><li><a href=http://daringfireball.net/projects/markdown/syntax>Markdown Syntax</a></li><li><a href="http://jekyllrb.com/">Jeckyll</a></li><li><a href=https://spring.io/guides/gs/spring-boot>Spring Boot Getting Started</a></li><li><a href=https://github.com/glawson6/mule-starter-app>Mule Spring Boot Starter</a></li></ol></div><div class=sidebar-module><h4>Elsewhere</h4><ol class=list-unstyled><li><a href=https://github.com/glawson6>GitHub</a></li><li><a href=https://www.linkedin.com/in/gregorylawsontaptech>LinkedIn</a></li><li><a href=https://profiles.generalassemb.ly/gregory-lawson>General Assembly</a></li></ol></div></div><!-- /.blog-sidebar --></div><!-- /.row --></div><!-- /.container --><footer class=blog-footer><p>Gregory Lawson</p><p><a href=#>Back to top</a></p><div class=container><div class=text-center></div></div></footer><!--
<script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script>
--><script src=/js/script.7b55.js></script><!-- Google Analytics: change UA-XXXXX-X to be your site's ID. --><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-XXXXX-X');ga('send','pageview');</script><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></body></html>